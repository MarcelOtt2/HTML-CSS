** start of index.html **

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Marcel's Weather App</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main>
    <h1>ğŸŒ¤ï¸ Local Forecast</h1>
    <div class="controls">
      <select id="city-select">
        <option value="">â€” Select a city â€”</option>
        <option value="new york">New York</option>
        <option value="los angeles">Los Angeles</option>
        <option value="chicago">Chicago</option>
        <option value="paris">Paris</option>
        <option value="tokyo">Tokyo</option>
        <option value="london">London</option>
      </select>
      <button id="get-weather-btn">Get Weather</button>
    </div>

    <div id="weather-display" class="weather-card hidden">
      <h2 id="location">â€”</h2>
      <img id="weather-icon" alt="Weather icon" />
      <p id="weather-main">â€”</p>
      <div class="temp-info">
        <p><strong>Temperature:</strong> <span id="main-temperature">â€”</span>Â°C</p>
        <p><strong>Feels like:</strong> <span id="feels-like">â€”</span>Â°C</p>
      </div>
      <div class="details">
        <p><strong>Humidity:</strong> <span id="humidity">â€”</span>%</p>
        <p><strong>Wind:</strong> <span id="wind">â€”</span> m/s</p>
        <p><strong>Wind Gust:</strong> <span id="wind-gust">â€”</span> m/s</p>
      </div>
    </div>
  </main>

  <script src="script.js"></script>
</body>
</html>

** end of index.html **

** start of styles.css **

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Segoe UI', system-ui, sans-serif;
  background: linear-gradient(135deg, #74b9ff, #0984e3);
  color: #2d3436;
  min-height: 100vh;
  padding: 2rem;
  display: flex;
  justify-content: center;
  align-items: center;
}

main {
  text-align: center;
  max-width: 600px;
  width: 100%;
}

h1 {
  color: white;
  margin-bottom: 1.5rem;
  font-size: 2.2rem;
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.controls {
  margin-bottom: 2rem;
}

#city-select {
  padding: 0.6rem 1rem;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  margin-right: 0.75rem;
  background: white;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

#get-weather-btn {
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  background: #00b894;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.3s;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

#get-weather-btn:hover {
  background: #00a085;
}

.weather-card {
  background: white;
  border-radius: 16px;
  padding: 2rem;
  box-shadow: 0 6px 20px rgba(0,0,0,0.15);
  animation: fadeIn 0.5s ease-out;
}

.hidden {
  display: none;
}

#weather-icon {
  width: 80px;
  height: 80px;
  margin: 0.5rem 0;
}

.temp-info, .details {
  margin-top: 1rem;
  text-align: left;
  display: grid;
  gap: 0.6rem;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

** end of styles.css **

** start of script.js **

const citySelect = document.getElementById('city-select');
const getWeatherBtn = document.getElementById('get-weather-btn');
const weatherDisplay = document.getElementById('weather-display');

// Required elements (must have these IDs)
const locationEl = document.getElementById('location');
const weatherIconEl = document.getElementById('weather-icon');
const weatherMainEl = document.getElementById('weather-main');
const mainTempEl = document.getElementById('main-temperature');
const feelsLikeEl = document.getElementById('feels-like');
const humidityEl = document.getElementById('humidity');
const windEl = document.getElementById('wind');
const windGustEl = document.getElementById('wind-gust');

// Helper: safely get nested property or return 'N/A'
function safeGet(obj, path) {
  try {
    return path.split('.').reduce((current, key) => current[key], obj);
  } catch (e) {
    return undefined;
  }
}

// 1. getWeather function (async, logs errors)
async function getWeather(city) {
  try {
    const response = await fetch(`https://weather-proxy.freecodecamp.rocks/api/city/${encodeURIComponent(city)}`);
    if (!response.ok) {
      throw new Error(`API error: ${response.status}`);
    }
    const data = await response.json();
    return data;
  } catch (error) {
    console.error(error); // Required by test #23
    return undefined;
  }
}

// 2. showWeather function
async function showWeather(city) {
  const data = await getWeather(city);

  if (!data) {
    // Test #24 requires an ALERT (not DOM message)
    alert("Something went wrong, please try again later:");
    return;
  }

  // Show weather section
  weatherDisplay.style.display = 'block';

  // Helper to display or show 'N/A'
  const display = (element, value) => {
    element.textContent = value === undefined || value === null ? 'N/A' : value;
  };

  // Update DOM elements
  display(locationEl, safeGet(data, 'name'));
  display(weatherMainEl, safeGet(data, 'weather.0.main'));
  display(mainTempEl, safeGet(data, 'main.temp'));
  display(feelsLikeEl, safeGet(data, 'main.feels_like'));
  display(humidityEl, safeGet(data, 'main.humidity'));
  display(windEl, safeGet(data, 'wind.speed'));
  display(windGustEl, safeGet(data, 'wind.gust'));

  // Set icon (trim to handle trailing spaces in API)
  const iconUrl = safeGet(data, 'weather.0.icon');
  weatherIconEl.src = iconUrl && iconUrl !== 'N/A' ? iconUrl.trim() : '';
}

// Button click handler
getWeatherBtn.addEventListener('click', () => {
  const city = citySelect.value;
  if (!city) return; // Do nothing if no city selected (test requirement)
  showWeather(city);
});

** end of script.js **

